import{_ as S}from"./BGYvOMTI.js";import{u as E,j as d,c as n,a as e,t as l,i as s,b as m,w as x,F as P,k as q,l as R,m as T,n as f,v as g,q as h,s as y,d as k,r as D,o}from"./DLMJGIfJ.js";import{_ as F}from"./D-dbNWha.js";const L={class:"d-flex align-items-center mx-auto mb-2 px-3 px-sm-0",style:{"max-width":"28rem"}},M=e("img",{src:F,width:"24",class:"me-2"},null,-1),j={class:"fs-5"},H={class:"align-self-end ms-auto fs-6"},z={key:0,class:"p-3 bg-light"},A={class:"mx-auto",style:{"max-width":"28rem"}},G={class:"alert alert-success"},I={class:"row gx-2 align-items-center"},J={class:"col"},K={key:1,class:"p-3 mb-3 bg-light"},O={class:"mx-auto",style:{"max-width":"28rem"}},Q={class:"mb-3"},W={key:0,class:"alert alert-danger"},X={class:"mb-2"},Y={for:"registerEmail",class:"form-label"},Z=["disabled"],ee={class:"mb-2"},se={for:"registerPassword1",class:"form-label"},te={class:"input-group"},oe=["disabled"],le=["disabled"],ae=["disabled"],ie={class:"mb-3"},ne={for:"registerPassword2",class:"form-label"},re={class:"input-group"},de=["disabled"],ce=["disabled"],ue=["disabled"],_e={class:"form-text"},me={class:"form-text"},pe={class:"form-text"},fe={class:"form-text"},ge={class:"row gx-2 align-items-center"},he={class:"col"},ve={class:"col-auto"},be=["disabled"],we={key:0},ye={key:1},ke={class:"mx-auto text-center"},qe={__name:"register",setup($e){E({title:"register_pageTitle"});const p=d(null),c=d(null),u=d(null),v=d(null),r=d(!1),V=d(!1),b=d(!1),w=d(!1);function C(){b.value=!b.value}function N(){w.value=!w.value}async function U(){v.value=null,r.value=!0,await $fetch("http://127.0.0.1:8000/auth/registration/",{method:"post",body:{username:p.value,email:p.value,password1:c.value,password2:u.value}}).then(t=>{V.value=!0,r.value=!1}).catch(t=>{console.log(t.data),v.value=t.data,r.value=!1})}return(t,a)=>{const _=D("font-awesome-icon"),$=S;return o(),n(P,null,[e("div",L,[M,e("span",j,l(t.$t("site_name")),1),e("span",H,l(t.$t("register_title")),1)]),s(V)?(o(),n("div",z,[e("div",A,[e("div",G,l(t.$t("register_success")),1),e("div",I,[e("div",J,[m($,{to:"/login"},{default:x(()=>[m(_,{icon:"fas fa-arrow-left-long"}),k(" "+l(t.$t("passwordReset_back")),1)]),_:1})])])])])):(o(),n("div",K,[e("div",O,[e("div",Q,l(t.$t("register_text")),1),s(v)?(o(),n("div",W,[(o(!0),n(P,null,q(s(v),i=>(o(),n("div",null,[(o(!0),n(P,null,q(i,B=>(o(),n("div",null,l(B),1))),256))]))),256))])):R("",!0),e("form",{onSubmit:a[7]||(a[7]=T(i=>U(),["prevent"]))},[e("div",X,[e("label",Y,l(t.$t("register_email")),1),f(e("input",{type:"email","onUpdate:modelValue":a[0]||(a[0]=i=>h(p)?p.value=i:null),class:"form-control",id:"registerEmail",disabled:s(r),required:"",autocomplete:"email"},null,8,Z),[[g,s(p)]])]),e("div",ee,[e("label",se,l(t.$t("register_password1")),1),e("div",te,[s(b)?f((o(),n("input",{key:0,type:"text","onUpdate:modelValue":a[1]||(a[1]=i=>h(c)?c.value=i:null),class:"form-control",id:"registerPassword1",disabled:s(r),required:"",minlength:"8",autocomplete:"current-password"},null,8,oe)),[[g,s(c)]]):f((o(),n("input",{key:1,type:"password","onUpdate:modelValue":a[2]||(a[2]=i=>h(c)?c.value=i:null),class:"form-control",id:"registerPassword1",disabled:s(r),required:"",minlength:"8",autocomplete:"current-password"},null,8,le)),[[g,s(c)]]),e("button",{type:"button",class:"btn btn-outline-secondary",style:{"border-color":"#dee2e6"},disabled:s(r),onClick:a[3]||(a[3]=i=>C())},[s(b)?(o(),y(_,{key:0,icon:"fas fa-eye-slash","fixed-width":""})):(o(),y(_,{key:1,icon:"fas fa-eye","fixed-width":""}))],8,ae)])]),e("div",ie,[e("label",ne,l(t.$t("register_password2")),1),e("div",re,[s(w)?f((o(),n("input",{key:0,type:"text","onUpdate:modelValue":a[4]||(a[4]=i=>h(u)?u.value=i:null),class:"form-control",id:"registerPassword2",disabled:s(r),required:"",minlength:"8",autocomplete:"current-password"},null,8,de)),[[g,s(u)]]):f((o(),n("input",{key:1,type:"password","onUpdate:modelValue":a[5]||(a[5]=i=>h(u)?u.value=i:null),class:"form-control",id:"registerPassword2",disabled:s(r),required:"",minlength:"8",autocomplete:"current-password"},null,8,ce)),[[g,s(u)]]),e("button",{type:"button",class:"btn btn-outline-secondary",style:{"border-color":"#dee2e6"},disabled:s(r),onClick:a[6]||(a[6]=i=>N())},[s(w)?(o(),y(_,{key:0,icon:"fas fa-eye-slash","fixed-width":""})):(o(),y(_,{key:1,icon:"fas fa-eye","fixed-width":""}))],8,ue)]),e("div",_e,l(t.$t("register_help1")),1),e("div",me,l(t.$t("register_help2")),1),e("div",pe,l(t.$t("register_help3")),1),e("div",fe,l(t.$t("register_help4")),1)]),e("div",ge,[e("div",he,[m($,{to:"/"},{default:x(()=>[m(_,{icon:"fas fa-arrow-left-long"}),k(" "+l(t.$t("register_back")),1)]),_:1})]),e("div",ve,[e("button",{type:"submit",class:"w-100 btn btn-primary",disabled:s(r)},[s(r)?(o(),n("span",we,[m(_,{icon:"fas fa-rotate",class:"rotate"})])):(o(),n("span",ye,l(t.$t("register_button")),1))],8,be)])])],32)])])),e("div",ke,[k(l(t.$t("register_login"))+" ",1),m($,{to:"/login"},{default:x(()=>[k(l(t.$t("login_title")),1)]),_:1})])],64)}}};export{qe as default};
